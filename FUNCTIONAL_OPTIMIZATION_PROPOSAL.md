# MemFlow 功能现状与优化升级提案 (2026版)

基于对当前系统架构的评估及 2026 年行业技术趋势（生成式 AI、情感计算、沉浸式交互），本文档详细梳理了 MemFlow 的功能现状，并提出针对性的体验优化与新功能规划。

---

## 1. 当前系统功能清单 (Current Features)

MemFlow 目前定位为“隐私优先的个人智能助理”，核心能力覆盖数据的**采集、处理、存储、分析与可视化**。

### 1.1 全量活动记录 (Activity Recording)
*   **智能截屏**：自动捕获屏幕画面，支持多显示器（主屏）。
*   **感知去重**：采用 pHash（感知哈希）算法，仅在画面发生实质变化时存储，节省 40%+ 存储空间。
*   **元数据捕获**：同步记录当前激活窗口的 进程名 (Process Name)、窗口标题 (Window Title)。
*   **隐私黑名单**：支持配置应用黑名单（如密码管理器），自动暂停录制。

### 1.2 高精度文本提取 (OCR)
*   **双引擎支持**：
    *   **Windows Native OCR**：利用系统原生 API，速度快、零依赖。
    *   **RapidOCR (Sidecar)**：集成高性能开源引擎，支持复杂排版与多语言。
*   **图像预处理**：内置灰度化、二值化管道，提升低对比度文字识别率。
*   **PII 隐私脱敏**：在落库前自动识别并掩盖 手机号、身份证、银行卡、邮箱 等敏感信息。

### 1.3 智能回顾与检索 (Recall & Search)
*   **混合检索 (Hybrid Search)**：
    *   **全文检索 (FTS5)**：支持对 OCR 文本的精确关键词搜索。
    *   **向量检索 (Vector Search)**：基于本地 Embedding 模型，支持语义搜索（如搜“合同”能找到“协议”）。
*   **Timeline 时间轴**：线性展示活动历史，支持按时间点回溯截图与详情。
*   **AI 问答助手 (QnA)**：
    *   基于 RAG（检索增强生成）技术，根据用户提问自动检索相关历史。
    *   支持多轮对话，上下文感知。
    *   模型可切换（OpenAI / Anthropic）。

### 1.4 知识可视化 (Knowledge Graph)
*   **实体关联图谱**：自动提取应用、关键词作为节点。
*   **力导向布局**：动态展示节点间的关联强度（共现频率）。
*   **交互式探索**：支持缩放、拖拽、点击节点过滤相关活动。

### 1.5 自动化代理 (Agent - MVP)
*   **任务提案**：识别重复性操作模式，建议自动化脚本。
*   **安全执行**：在用户授权下执行低风险操作（如打开特定网页、整理文件）。
*   **全流程审计**：所有 Agent 操作均有日志记录，可回溯。

---

## 2. 使用体验优化建议 (UX Improvements)

针对当前“线性回顾”与“被动搜索”的局限，建议进行以下交互维度的升级：

### 2.1 视图与可视化升级
*   **日历热力图 (Calendar Heatmap)**：
    *   **现状**：仅有线性 Timeline，难以概览长期模式。
    *   **优化**：在首页引入类似 GitHub Contribution 的热力图，直观展示每天的“记忆密度”或“工作强度”，点击即可跳转至当日详情。
*   **沉浸式画廊 (Gallery View)**：
    *   **现状**：Timeline 以缩略图+文字为主。
    *   **优化**：增加“网格视图”或“流式视图”，纯图片展示，适合快速视觉扫描找回记忆（类似 Google Photos）。
*   **无级缩放时间轴 (Deep Zoom Timeline)**：
    *   **现状**：时间轴粒度固定。
    *   **优化**：支持鼠标滚轮从“年视图”平滑缩放至“秒级视图”，实现宏观与微观的无缝切换。

### 2.2 搜索与交互增强
*   **自然语言语义过滤器 (Semantic Filters)**：
    *   **现状**：主要靠关键词。
    *   **优化**：支持自然语言指令，如“显示上周我用 VS Code 编辑过的所有 Markdown 文件”，系统自动解析为 `App:VSCode + Content:Markdown + Time:LastWeek` 的组合过滤条件。
*   **智能话题聚类 (Smart Topics)**：
    *   **现状**：活动按时间流水账排列。
    *   **优化**：自动将碎片化活动聚类为“上下文 (Context)”，例如将 浏览器查资料 + Word写文档 + 微信沟通 自动归纳为“项目A：方案撰写”事件卡片。

### 2.3 知识图谱交互深化
*   **多维切片 (Multi-dimensional Slicing)**：
    *   **现状**：全量节点展示，易杂乱。
    *   **优化**：增加“按时间段”、“按应用类型”、“按项目”切片功能，仅展示特定上下文下的知识关联。

---

## 3. 新功能规划 (New Features - 2026 Vision)

结合 2026 年技术趋势，从单纯的“记录者”进化为“懂你的智能伙伴”。

### 3.1 情感与专注度分析 (Sentiment & Focus Analytics)
*   **功能描述**：利用输入行为（打字速度、鼠标轨迹）和应用切换频率，分析用户的精神状态。
*   **价值**：
    *   **健康仪表盘**：可视化展示每日的“深度专注时长”与“疲劳时段”。
    *   **智能干预**：当检测到疲劳（如频繁切换窗口、打字错误率飙升）时，温柔提醒休息或切换背景白噪音。

### 3.2 主动式 AI 助理 (Proactive Context Assistant)
*   **功能描述**：打破“人找信息”的模式，实现“信息找人”。
*   **场景**：
    *   **写作辅助**：当你打开 Word 写“季度总结”时，侧边栏自动浮现上季度的总结文档摘要和相关数据截图。
    *   **会议准备**：检测到 Zoom/Teams 会议启动时，自动弹出与参会人相关的历史邮件和笔记。
*   **技术支撑**：实时屏幕内容分析 + 向量数据库高频即时检索。

### 3.3 沉浸式时光机 (Immersive Replay)
*   **功能描述**：不再是静止的截图，而是基于关键帧的“视频化”重播。
*   **体验**：
    *   支持以 10x/20x 速度快速回放一天的工作流。
    *   **AR 增强模式**（未来扩展）：结合 AR 眼镜，在物理空间中重现当时打开的多个虚拟窗口布局（需结合空间计算技术）。

### 3.4 跨维度数据可视化 (Cross-dimensional Insights)
*   **功能描述**：打破时间与空间的界限，关联多源数据。
*   **场景**：
    *   **生理指标关联**：接入智能手表数据（心率、血氧），分析“高压工作时刻”与生理指标的相关性。
    *   **环境关联**：记录当时的位置（Wi-Fi/GPS）与环境音，构建包含“时间-地点-生理-数字活动”的全息记忆坐标。
