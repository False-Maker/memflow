# MemFlow 运行时测试检查清单

## 当前状态检查

### ✅ 已检查项
- [x] 应用数据目录存在：`%LOCALAPPDATA%\com.memflow.app`
- [ ] 数据库文件：`memflow.db` - **未找到**（可能尚未初始化）
- [ ] 配置文件：`config.json` - 待检查
- [ ] 截图目录：`screenshots` - 待检查

## 需要手动测试的功能

由于我无法直接操作 GUI 界面，以下测试需要您在应用界面中手动操作：

### 1. 数据库初始化测试
- [ ] 启动应用后，检查终端日志
  - 应该看到 "开始执行数据库迁移..."
  - 应该看到 "数据库迁移执行成功"
  - 应该看到 "数据库完整性检查通过"
- [ ] 检查数据库文件是否创建
  - 路径：`%LOCALAPPDATA%\com.memflow.app\memflow.db`
  - 文件应该存在且大小 > 0

### 2. 截图录制功能测试
- [ ] 在应用界面点击"开始录制"按钮
- [ ] 观察终端日志，应该看到：
  - "Starting recording_loop..."
  - "Loaded config for recording: interval=5000ms"
  - 周期性截图日志
- [ ] 检查截图目录
  - 路径：`%LOCALAPPDATA%\com.memflow.app\screenshots\`
  - 应该看到 PNG 文件被创建
- [ ] 验证去重功能
  - 保持屏幕内容不变，观察是否跳过重复帧
  - 日志中应该看到 "检测到重复帧，跳过保存"

### 3. OCR 功能测试
- [ ] 如果已配置 RapidOCR，观察 OCR 处理日志
- [ ] 检查活动记录中是否有 OCR 文本
- [ ] 验证 PII 脱敏功能（如果有敏感信息）

### 4. 前端界面测试
- [ ] Timeline 视图
  - 活动记录是否正确显示
  - 图片是否能正常加载
  - 时间轴滚动是否流畅
- [ ] 搜索功能
  - 在搜索框输入关键词
  - 验证 FTS5 全文检索是否正常工作
- [ ] 知识图谱视图
  - 点击"重建图谱"按钮
  - 验证图谱是否正常显示
- [ ] 统计面板
  - 查看统计数据是否正确显示

### 5. 配置管理测试
- [ ] 打开设置界面
- [ ] 修改录制间隔，保存
- [ ] 验证配置是否生效（无需重启）

### 6. 性能监控测试
- [ ] 打开性能监控界面
- [ ] 查看性能指标（内存、磁盘、活动数）
- [ ] 点击"触发垃圾回收"按钮
- [ ] 验证 GC 是否正常执行

## 测试结果记录

请在测试过程中记录以下信息：

### 数据库初始化
- 迁移是否成功：□ 是 □ 否
- 错误信息（如有）：_________________

### 截图录制
- 录制是否正常：□ 是 □ 否
- 截图保存是否正常：□ 是 □ 否
- 去重功能是否生效：□ 是 □ 否
- 错误信息（如有）：_________________

### OCR 功能
- OCR 是否正常：□ 是 □ 否
- 文本提取是否准确：□ 是 □ 否
- PII 脱敏是否生效：□ 是 □ 否
- 错误信息（如有）：_________________

### 前端界面
- Timeline 是否正常：□ 是 □ 否
- 搜索功能是否正常：□ 是 □ 否
- 知识图谱是否正常：□ 是 □ 否
- 错误信息（如有）：_________________

## 发现的问题

（请在此记录测试过程中发现的问题）

---

*测试日期：2025-01-27*
*测试人员：_____________*

